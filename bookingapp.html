
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body style="margin: 0">
    <form onsubmit="handleFormSubmit(event)">
      <label for="username">Username</label>
      <input type="text" name="username" id="username" />
      <label for="email">Email</label>
      <input type="email" name="email" id="email" />
      <label for="phone">Phone No</label>
      <input type="tel" name="phone" id="phone" />
      <button type="submit">Submit</button>
    </form>
  </body>
  <ul id = 'listOfUser'></ul>

  <script src = "https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.5/axios.min.js"></script>

  <script>

function handleFormSubmit(event){
  event.preventDefault();
  const name=event.target.username.value;
  const email=event.target.email.value;
  const phone=event.target.phone.value;
//   localStorage.setItem('name',name);
//   localStorage.setItem('email',email);
//   localStorage.setItem('phone',phone);
  const userDetails = {
    name,
    email,
    phone
  }

  axios.post("https://crudcrud.com/api/7fc7ab0486284915863ca27a382e006b/appointmentData", userDetails)
  .then((response) =>{
    showNewUserOnScreen(response.data)
    //console.log(response);
  })
  .catch((err) => {
    document.body.innerHTML =document.body.innerHTML + "<h4> Something went wrong </h4>"
    console.log(err);
  })

  //   localStorage.setItem('User Details',JSON.stringify(userDetails));
// showNewUserOnScreen(userDetails)

}
function showNewUserOnScreen(userDetails){
    const parentEle =document.getElementById('listOfUser');
  const childrenEle = document.createElement('li');
  childrenEle.textContent = userDetails.name + ' - ' + userDetails.email + ' - ' + userDetails.phone;
  parentEle.appendChild(childrenEle)
}

  </script>
</html>


